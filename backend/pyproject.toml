[tool.poetry]
name = "decky-loader"
version = "0.0.0"  # the real version will be autogenerated
description = "A plugin loader for the Steam Deck"
license = "GPLv2"
authors = []
packages = [
    {include = "decky_loader"},
    {include = "decky_loader/main.py"}
]
include = [
  "decky_loader/locales/*",
  "decky_loader/static/*"
]

[tool.poetry.dependencies]
python = ">=3.10,<3.13"

aiohttp = "^3.10.11"
aiohttp-jinja2 = "^1.5.1"
aiohttp-cors = "^0.7.0"
watchdog = "^4"
certifi = "*"
packaging = "^24"
multidict = "^6.0.5"
setproctitle = "^1.3.3"

[tool.poetry.group.dev.dependencies]
pyinstaller = "^6.8.0"
pyright = "^1.1.335"

[tool.poetry.scripts]
decky-loader = 'decky_loader.main:main'

[tool.pyright]
strict = ["*"]

[tool.poetry-dynamic-versioning]
enable = true

[tool.poetry-dynamic-versioning.substitution]
# don't replace version in decky_plugin.py
files = []

[build-system]
requires = ["poetry-core>=1.0.0", "poetry-dynamic-versioning>=1.0.0,<2.0.0"]
build-backend = "poetry_dynamic_versioning.backend"
