[tool.poetry]
name = "decky-loader"
version = "0.0.0"  # the real version will be autogenerated
description = "A plugin loader for the Steam Deck"
license = "GPLv2"
authors = []
packages = [
    {include = "decky_loader"},
    {include = "decky_plugin.py"},
    {include = "decky_plugin.pyi"},
]
include = ["decky_loader/static/*"]

[tool.poetry.dependencies]
python = ">=3.10,<3.13"

aiohttp = "^3.8.5"
aiohttp-jinja2 = "^1.5.1"
aiohttp-cors = "^0.7.0"
watchdog = "^2.1.7"
certifi = "*"
packaging = "^23.2"

[tool.poetry.group.dev.dependencies]
pyinstaller = "^5.13.0"
pyright = "^1.1.335"

[tool.poetry.scripts]
decky-loader = 'decky_loader.main:main'

[tool.pyright]
strict = ["*"]

[tool.poetry-dynamic-versioning]
enable = true

[tool.poetry-dynamic-versioning.substitution]
# don't replace version in decky_plugin.py
files = []

[build-system]
requires = ["poetry-core>=1.0.0", "poetry-dynamic-versioning>=1.0.0,<2.0.0"]
build-backend = "poetry_dynamic_versioning.backend"
